
<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
  <div class="mdc-card p-0"><br><br>
    <div>
      <ngx-spinner bdColor="rgba(0, 0, 0, 0.19)" color="#000183" type="ball-clip-rotate">
      </ngx-spinner>
  </div>
    <form class="form" #shgDeletionForm="ngForm" (ngSubmit)="shgDetails()">

      <div class="row">
        <div class="form-group" class="col-md-6 mb-4 ">
          <div class="example-header">
            <mat-form-field [hideRequiredMarker]="hideRequiredMarker" appearance="outline">
              <mat-label class="asterix--before">State</mat-label>
              <mat-select  ondragstart="return false;"   required={{statevalue}} disableOptionCentering [(ngModel)]="stateName" id="state" name="state"
              [formControl]="state" (selectionChange)="onSelect($event.value)">
            
              <mat-option>
                <lib-mat-select-search  (keypress)="letterOnly($event)"         id="search"   [list]="statelist1" [searchProperties]="['state_name',]"
                    [fixOnTop]="true" [clearSearchInput]="true" (filtered)="statelist2 = $event">
                </lib-mat-select-search>
            </mat-option>
            <mat-option *ngIf="statelist2.length==0">Record not found</mat-option>
            
            
            
              <mat-option *ngFor="let state of statelist2" value={{state.state_name}}>
                {{state.state_name}}
              </mat-option>
              </mat-select>
              <!-- <mat-error *ngIf="state.errors?.required">
                State is required!
              </mat-error> -->
            </mat-form-field>
            <span class="mat-error"  style="margin-left:70px;  margin-top:-20px ;  " *ngIf="statevalue">
              State is required
            </span>
          </div>
        </div>
        <div class="form-group" class="col-md-6 mb-4 ">
          <div class="example-header">

            <mat-form-field [hideRequiredMarker]="hideRequiredMarker" appearance="outline" (click)="districtTouch('yes')">
              <mat-label class="asterix--before">District</mat-label>
              <mat-select  ondragstart="return false;"   required={{districtvalue}} disableOptionCentering [(ngModel)]="districtName" id="district" name="district"
              [formControl]="district" (selectionChange)="onChange($event.value)">
                
              
              <mat-option>
                <lib-mat-select-search  (keypress)="letterOnly($event)"         id="search"   [list]="districtlist1" [searchProperties]="['district_name']"
                    [fixOnTop]="true" [clearSearchInput]="true" (filtered)="districtlist2 = $event">
                </lib-mat-select-search>
            </mat-option>

            <mat-option *ngIf="districtlist2.length==0">Record not found</mat-option>
              
              <mat-option *ngFor="let district of districtlist2" value={{district.district_name}}>
                  {{district.district_name}}
                </mat-option>
              </mat-select>
              <!-- <mat-error *ngIf="district.errors?.required">
                District is required!
              </mat-error> -->
            </mat-form-field>
            <span class="mat-error"  style="margin-left:70px;  margin-top:-20px ;  " *ngIf="districtvalue">
              District is required
            </span>
          </div>
        </div>

      </div>
      <div class="row">

        <div class="form-group" class="col-md-6 mb-4 ">
          <div class="example-header">

            <mat-form-field appearance="outline" (click)="iaTouch('yes')">
              <mat-label >IA Name</mat-label>
              <mat-select   ondragstart="return false;"   disableOptionCentering [(ngModel)]="shpiId" id="shpi" name="shpi"
              [formControl]="ia" (selectionChange)="getAnimaterNames($event.value)">
               
              <mat-option>
                <lib-mat-select-search  (keypress)="letterOnly($event)"         id="search"   [list]="iadetailslist1" [searchProperties]="['name_of_SHPI']"
                    [fixOnTop]="true" [clearSearchInput]="true" (filtered)="iadetailslist2 = $event">
                </lib-mat-select-search>
            </mat-option>
            <mat-option *ngIf="iadetailslist2.length==0">Record not found</mat-option>
              
              
            <mat-option class="options"          *ngFor="let ia of iadetailslist2" value={{ia.id}}>
              <!-- <span class="bar_content" *ngIf="ia.name_of_SHPI.length >=25">
                
              </span>

              <span *ngIf="ia.name_of_SHPI.length <25">
                {{ia.name_of_SHPI}}
              </span> -->
              {{ia.name_of_SHPI}}
              </mat-option>
              </mat-select>
             
            </mat-form-field>
          </div>
        </div>
        <div class="form-group" class="col-md-6 mb-4 ">
          <div class="example-header">
            <mat-form-field class="drop"  appearance="outline" (click)="animatorTouch('yes')">
              <mat-label >Animator Name
              </mat-label>
              <mat-select ondragstart="return false;"   disableOptionCentering [(ngModel)]="animatorId" id="animatorname"
                name="animatorname" [formControl]="animator"  (selectionChange)="animatorselect()">
              
                <mat-option>
                  <lib-mat-select-search  (keypress)="letterOnly($event)"         id="search"   [list]="animatornamelist1" [searchProperties]="['animatorName']"
                      [fixOnTop]="true" [clearSearchInput]="true" (filtered)="animatornamelist2 = $event">
                  </lib-mat-select-search>
              </mat-option>
              <mat-option *ngIf="animatornamelist2.length==0">Record not found</mat-option>
              
              
              
                <mat-option value={{animator.animatorId}} *ngFor="let animator of animatornamelist2">
                {{animator.animatorName}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group" class="col-md-6 mb-4 ">
          <div class="example-header">
            <mat-form-field  appearance="outline">
              <mat-label >SHG/JLG Code</mat-label>
              <input  autocomplete="off" autocorrect="off" onlyAlphanumeric  ondragstart="return false;"   matInput [(ngModel)]="shgDetailsRequest.shgCode" id="shgCode" name="shgCode" [formControl]="shgcode"
                placeholder="" #input  toUppercase  maxlength="15"  noSpace>
             
            </mat-form-field>
          </div>
        </div>

        <div class="form-group" class="col-md-6 mb-4 ">
          <div class="example-header">
            <mat-form-field  appearance="outline">
              <mat-label >SHG/JLG Name</mat-label>
              <input singleSpace autocomplete="off" autocorrect="off" OnlyCharacter  ondragstart="return false;"   matInput [(ngModel)]="shgDetailsRequest.shgName" id="shgName" name="shgName" [formControl]="shgName"
                placeholder="" #input   toUppercase   maxlength="30">
            
            </mat-form-field>
          </div>
        </div>
      </div>

      <div class="example-header">

        <div class="text-center">
          <button mat-raised-button color="primary" style="width:90px ;     background-color:#000183 ;
        ">Submit</button>
        </div>
      </div>
    </form>
    <br>

    <div *ngIf="toDisplay">
      <div class="form-group" class="col-md-6 mb-4 ">

        <div class="example">

          <mat-form-field appearance="outline">
            <mat-label> Search</mat-label>
            <mat-icon matPrefix>search</mat-icon>
            <input matInput singleSpace maxlength="30" (keyup)="applyFilter($event)" placeholder="" #input autocomplete="off" autocorrect="off" [formControl] = "filter">
          </mat-form-field>
        </div>
      </div>
      <div>
        <mat-paginator #paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>

      </div>
    
    <div class='table-responsive'>
      <table mat-table #firstTableSort="matSort" [dataSource]="dataSource" matSort class="mat-elevation-z8">

        <!-- Checkbox Column -->

        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? toggleAllRows() : null" [checked]="selection.hasValue() && isAllSelected()"
              [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
            </mat-checkbox>
          </th>

          <td mat-cell *matCellDef="let row ">
            <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
              [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
            </mat-checkbox>
          </td>
        </ng-container>

        <ng-container matColumnDef="SHGCode">
          <th class="p-3" mat-header-cell *matHeaderCellDef mat-sort-header="shgCode"> SHG/JLG Code </th>
          <td class="p-3" mat-cell *matCellDef="let element"> {{element.shgCode}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="nameoftheshg">
          <th class="p-3" mat-header-cell *matHeaderCellDef mat-sort-header="shgName"> SHG/JLG Name </th>
          <td class="p-3" mat-cell *matCellDef="let element"> {{element.shgName}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="animatorname">
          <th class="p-3" mat-header-cell *matHeaderCellDef mat-sort-header="animatorName"> Animator Name </th>
          <td class="p-3" mat-cell *matCellDef="let element"> {{element.animatorName}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="username">
          <th class="p-3" mat-header-cell *matHeaderCellDef mat-sort-header="animatorUsername"> Username </th>
          <td class="p-3" mat-cell *matCellDef="let element"> {{element.animatorUsername}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
        </tr>

        <tr class="mat-row" *matNoDataRow >
          <td class="mat-cell" class="search"  colspan="5">
            <br>
              Record not found
          </td>
      </tr>

      </table>
    </div><br>

    <div class="example-header">

      <div class="text-center">
        <button mat-raised-button color="primary" style="width:90px ;background-color: #000183;" (click)="selectedGroup()">Submit</button>
      </div>
    </div><br><br>
  </div>
  </div>
</div>

